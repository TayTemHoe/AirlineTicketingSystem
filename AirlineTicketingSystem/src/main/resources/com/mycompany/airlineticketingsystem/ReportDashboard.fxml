<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<ScrollPane fitToWidth="true" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.mycompany.airlineticketingsystem.controller.ReportController"
            stylesheets="@staff-style.css">
    
    <content>
        <VBox spacing="20" style="-fx-padding: 20;">
            
            <HBox alignment="CENTER_LEFT" spacing="20">
                <Label text="Analytics &amp; Financial Reports" styleClass="section-header" style="-fx-font-size: 24px;"/>
                <Button text="â†» Refresh Data" onAction="#loadData"/>
            </HBox>

            <VBox styleClass="content-card">
                <Label text="Company Earnings Summary" styleClass="section-header"/>
                <TextArea fx:id="txtSummary" prefHeight="150" editable="false" 
                          style="-fx-font-family: 'Consolas', monospace; -fx-control-inner-background: #f8f9fa;"/>
            </VBox>

            <HBox spacing="20">
                <VBox styleClass="chart-card" HBox.hgrow="ALWAYS">
                    <Label text="Top Destinations" style="-fx-font-weight:bold; -fx-padding: 10;"/>
                    <PieChart fx:id="pieDestinations" prefHeight="300"/>
                </VBox>
                
                <VBox styleClass="chart-card" HBox.hgrow="ALWAYS">
                    <Label text="Revenue Source" style="-fx-font-weight:bold; -fx-padding: 10;"/>
                    <BarChart fx:id="barRevenue">
                        <xAxis><CategoryAxis label="Payment Method"/></xAxis>
                        <yAxis><NumberAxis label="Amount (RM)"/></yAxis>
                    </BarChart>
                </VBox>
            </HBox>
            
            <HBox spacing="20">
                 <VBox styleClass="chart-card" HBox.hgrow="ALWAYS">
                    <Label text="Customer Gender Demographics" style="-fx-font-weight:bold; -fx-padding: 10;"/>
                    <PieChart fx:id="pieGender" prefHeight="300"/>
                </VBox>
            </HBox>

        </VBox>
    </content>
</ScrollPane>